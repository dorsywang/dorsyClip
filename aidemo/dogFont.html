<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
  <style type="text/css">
body{
  background: #000;
}

img{
  width: 400px;
  height: 400px;
}
  </style>
</head>
<body>

<img src="img/dog.jpg" id="dog" alt="" />
<img src="img/border2.jpg" id="border1" alt="" />
	
  <script type="text/javascript" src="alloyimage.js"></script>
  <script type="text/javascript">

    window.onload = function(){

      var dogEl = document.getElementById("dog");
      var border1El = document.getElementById("border1");

      var layer1 = $AI(dogEl);
      var layer2 = $AI(border1El);

      var comLayer = layer1.add(layer2, "变暗");

      comLayer.ctx(function(){

        this.font="40px Microsoft Yahei";

        // 创建渐变
        var gradient = this.createLinearGradient(0, 0, comLayer.canvas.width, 0);
        gradient.addColorStop("0", "magenta");
        gradient.addColorStop("0.5", "blue");
        gradient.addColorStop("1.0", "red");

        // 用渐变填色
        this.fillStyle = gradient;
        this.fillText("小狗好可爱", 30, 320);
          
      }).show();

    };
  </script>
</body>
</html>
